<!DOCTYPE html>

<html>
	<head>
		<title>My Journey</title>

		<script 
			src="https://www.unpkg.com/@propelauth/javascript@2.0.11/dist/javascript.min.js" 
			integrity="sha384-FENNH2f7QuQvkZJBL7jebLr0OtYKgTA2iq+C5g3VXXX7SBwWmeMMoc+pBBtcn76G" 
			crossorigin="anonymous"></script>
		<script src="/static/js/authuser.js"></script>
		<script src="/static/js/api.js"></script>
		<script src="/static/js/navbar.js" defer></script>
		<script src="/static/js/elemutils.js" defer></script>

		<link rel="stylesheet" href="/static/css/theme.css"/>
		<link rel="stylesheet" href="/static/css/view-journey.css"/>

	</head>

	<body>
		<script>
			const entryID = new URLSearchParams(location.search).get("entryID")

			let globalAuthInfo;

			execWithUserData(async (userData, authInfo) => { // main function for page
				globalAuthInfo = authInfo;

				const entryInfo = await getEntryInfo(entryID, authInfo)
			
				const greeting = document.createElement("h1")

				greeting.textContent = `Hey, ${authInfo.user.firstName}`;

				document.body.prepend(
					greeting
				);

				const imagesContainer = document.getElementById("images-container");
				for (const imgID of entryInfo.images) {
					const img = document.createElement("img");

					img.src = await getBase64ImageData(imgID, authInfo)
					imagesContainer.append(img)
				}
			})
		</script>

		<div id="entry-container">
			
		</div>
		<div id="images-container">
			
		</div>

		<!-- <a href="" onclick="location.href = `/new-entry?journeyID=${journeyID}`; return false" class="anchor-btn" id="new-entry-btn">Add a New Entry &#x2192;</a> -->

	</body>
</html>