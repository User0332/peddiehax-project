<!DOCTYPE html>

<html>
	<head>
		<title>My Journey</title>

		<script 
			src="https://www.unpkg.com/@propelauth/javascript@2.0.11/dist/javascript.min.js" 
			integrity="sha384-FENNH2f7QuQvkZJBL7jebLr0OtYKgTA2iq+C5g3VXXX7SBwWmeMMoc+pBBtcn76G" 
			crossorigin="anonymous"></script>
		<script src="/static/js/authuser.js"></script>
		<script src="/static/js/api.js"></script>
		<script src="/static/js/navbar.js" defer></script>
		<script src="/static/js/elemutils.js" defer></script>

		<link rel="stylesheet" href="/static/css/theme.css"/>
		<link rel="stylesheet" href="/static/css/view-journey.css"/>

	</head>

	<body>
		<div id="wrapper">
			<script>
				const entryID = new URLSearchParams(location.search).get("entryID")

				let globalAuthInfo;

				execWithUserData(async (userData, authInfo) => { // main function for page
					globalAuthInfo = authInfo;

					const entryInfo = await getEntryInfo(entryID, authInfo)
				
					const greeting = document.createElement("h1")

					greeting.textContent = `Hey, ${authInfo.user.firstName}`;

					document.body.prepend(
						greeting
					);

					const imagesContainer = document.getElementById("images-container");
					
					for (const imgID of entryInfo.images) {
						const img = document.createElement("img");

						img.src = await getBase64ImageData(imgID, authInfo)
						// img.src = "data:image/jpeg;base64,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"
						imagesContainer.append(img)
					}
				})
			</script>

			<div id="entry-container">
				
			</div>
			<div id="images-container">
				
			</div>
		</div>
	</body>
</html>