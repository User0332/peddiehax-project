<!DOCTYPE html>

<html>
	<head>
		<title>Create Account</title>

		<script 
			src="https://www.unpkg.com/@propelauth/javascript@2.0.11/dist/javascript.min.js" 
			integrity="sha384-FENNH2f7QuQvkZJBL7jebLr0OtYKgTA2iq+C5g3VXXX7SBwWmeMMoc+pBBtcn76G" 
			crossorigin="anonymous"></script>
		<script src="/static/js/authuser.js"></script>

	</head>

	<body>
		<script>
			getAuthInfo().then(
				authInfo => fetch(
					"/api/getself", {
						"headers": {
							Authorization: `Bearer ${authInfo.accessToken}`
						}
					}
				)
			).then(
				res => res.json()
			).then(
				userData => { // main function for page
					if (userData) location.href = "/dashboard" // disallow multiple-time account creation
				}
			)	
		</script>
	</body>
</html>