<!DOCTYPE html>

<html>
	<head>
		<title>My Journey</title>

		<script 
			src="https://www.unpkg.com/@propelauth/javascript@2.0.11/dist/javascript.min.js" 
			integrity="sha384-FENNH2f7QuQvkZJBL7jebLr0OtYKgTA2iq+C5g3VXXX7SBwWmeMMoc+pBBtcn76G" 
			crossorigin="anonymous"></script>
		<script src="/static/js/authuser.js"></script>
		<script src="/static/js/api.js"></script>
		<script src="/static/js/navbar.js" defer></script>

		<link rel="stylesheet" href="/static/css/theme.css"/>
		<link rel="stylesheet" href="/static/css/view-journey.css"/>

	</head>

	<body>
		<script>
			const journeyID = new URLSearchParams(location.search).get("id")

			let globalAuthInfo;

			execWithUserData(async (userData, authInfo) => { // main function for page
				globalAuthInfo = authInfo;

				const journeyInfo = await getJourneyInfo(journeyID, authInfo)
				

				const message = document.createElement("h2")
				message.textContent = `Welcome to your journey "${journeyInfo.name}"`
			
				const greeting = document.createElement("h1")

				greeting.textContent = `Hey, ${authInfo.user.firstName}`

				document.body.prepend(
					greeting,
					message
				);
			})
		</script>

		<div id="entries-container">

		</div>

		<a href="" onclick="location.href = `/new-entry?journeyID=${journeyID}`; return false" class="anchor-btn" id="new-entry-btn">Add a New Entry &#x2192;</a>

	</body>
</html>